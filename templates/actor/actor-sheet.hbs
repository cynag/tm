<form class="{{cssClass}}" autocomplete="off">

  <style>
    .sheet-body {
      min-height: 500px;
      display: flex;
      flex-direction: row;
    }
    .sidebar-fixed {
      width: 200px;
      flex-shrink: 0;
      background: #1a1a1a;
      color: white;
      padding: 10px;
    }
    .header-fixed {
      position: sticky;
      top: 0;
      background: #2b2b2b;
      z-index: 10;
      padding: 10px;
      color: white;
      border-bottom: 1px solid #444;
    }
    .main-content {
      flex: 1;
      overflow-y: auto;
    }
  </style>

  <!-- HEADER FIXO -->
  <header class="sheet-header header-fixed">
    <div style="display: flex; align-items: center; gap: 10px;">
      <img src="{{actor.img}}" data-edit="img" width="64" height="64" />
      <h1 class="charname" style="flex: 1;">
        <input name="name" type="text" value="{{actor.name}}" placeholder="Character Name" />
      </h1>
    </div>
    <div style="display: flex; flex-wrap: wrap; gap: 10px; margin-top: 10px;">
      <div>PV: {{actor.system.player_hp}}</div>
      <div>PA: {{actor.system.player_pa}}</div>
      <div>XP: 0</div>

      <label>Nível:</label>
      <input type="number" name="system.player_level" value="{{actor.system.player_level}}" style="width: 50px; color: white; font-weight: bold; background: transparent; border: 1px solid #555; padding: 2px;" />

      <div>REF: {{actor.system.player_reflex}}</div>
      <div>SAB: {{actor.system.player_wisdom}}</div>
      <div>PM: {{actor.system.player_maneuver}}</div>
      <div>RF: {{actor.system.player_resistance_phys}}</div>
      <div>RM: {{actor.system.player_resistance_mental}}</div>
    </div>
  </header>

  <section class="sheet-body">

    <!-- LATERAL FIXA -->
    <aside class="sidebar-fixed">
      <div>Letalidade: {{actor.system.player_letality}}</div>
      <div>Destreza: {{actor.system.player_dexterity}}</div>
      <div>Ímpeto: {{actor.system.player_impulse}}</div>
      <div>Arcana: {{actor.system.player_arcana}}</div>
      <div>Erudição: {{actor.system.player_erudition}}</div>
      <div>Virtude: {{actor.system.player_virtue}}</div>
      <div>Proteção: {{actor.system.player_protection}}</div>
      <div>Iniciativa: {{actor.system.player_initiative}}</div>
      <div>Movimento: {{actor.system.player_movement}}</div>
    </aside>

    <!-- CONTEÚDO PRINCIPAL -->
    <div class="main-content">
      <!-- ABA TABS -->
      <nav class="sheet-tabs tabs" data-group="primary" style="margin: 10px 0;">
        <a class="item" data-tab="data">Dados</a>
        <a class="item" data-tab="inventory">Inventário</a>
        <a class="item" data-tab="actions">Ações</a>
        <a class="item" data-tab="domains">Domínios</a>
      </nav>

      <!-- ABA: DADOS -->
      <div class="tab" data-group="primary" data-tab="data">
        <div style="padding: 10px;">
          <h2>Chronicle</h2>
          <textarea name="system.player_chronicle" style="width: 100%; height: 120px; text-align: justify;">
{{actor.system.player_chronicle}}
</textarea>

          <hr />
          <h2>Raça</h2>
          <table style="width: 100%; text-align: left;">
            <tr>
              <th style="width: 20%;">Raça</th>
              <td>
                {{#each actor.items as |item|}}
                  {{#if (eq item.type "race")}}
                    {{item.name}}
                  {{/if}}
                {{/each}}
              </td>
            </tr>
          </table>
        </div>
      </div>

      <!-- ABA: INVENTÁRIO -->
      <div class="tab" data-group="primary" data-tab="inventory">
        <div style="display: flex; justify-content: flex-end; margin-bottom: 5px;">
          <button type="button" class="auto-sort-btn" title="Organize Inventory">
            <i class="fas fa-arrows-rotate"></i> Auto-Sort
          </button>
        </div>
        <section id="gear-slots" class="gear-slots-container" style="margin-bottom: 10px; display: flex; justify-content: center;"></section>
        <section id="grid-inventory" class="grid-container"></section>
      </div>

      <!-- ABA: AÇÕES -->
      <div class="tab" data-group="primary" data-tab="actions">
        <!-- futuro -->
      </div>

      <!-- ABA: DOMÍNIOS -->
      <div class="tab" data-group="primary" data-tab="domains">
        <!-- futuro -->
      </div>

    </div>
  </section>
</form>
